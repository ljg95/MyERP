# ERP 메뉴 및 업무 로직 정의서

이 문서는 ERP 시스템의 각 메뉴 항목(대시보드, 상품 관리, 거래처 관리, 주문 관리, 재고 관리)에 대한 업무 로직, 워크플로우, 데이터 요구사항을 정의합니다. 이는 백엔드 구현의 기능 명세서 역할을 합니다.

## 1. 대시보드 (Dashboard)
**역할**: 시스템 현황 요약 및 지표 시각화
- **핵심 지표**:
  - 총 매출 (오늘/이번 달)
  - 진행 중인 주문 건수
  - 재고 부족 알림 건수
- **데이터 원천**: `Order Service`와 `Inventory Service`의 데이터를 집계.
- **로직**:
  - 읽기 전용(Read-only) 뷰.
  - 실시간 조회 또는 캐싱된 통계 데이터 제공.

## 2. 상품 관리 (Product Management)
**역할**: 상품 기준 정보(Master Data) 관리
- **메뉴 항목**:
  - **상품 목록 (Product List)**: 필터(카테고리, 상태)를 통한 전체 상품 조회.
  - **상품 등록/수정 (Product Form)**: 신규 상품 추가 및 기존 정보 수정.
- **업무 로직**:
  - **등록**: SKU(재고 관리 코드)는 중복될 수 없음. 초기 재고는 0으로 설정됨 (초기 재고 입고는 재고 조정 메뉴를 통해 수행).
  - **수정**: 가격 변경 이력 관리 (선택 사항).
  - **삭제**: 이미 주문 내역이 존재하는 상품은 삭제 불가. 대신 **논리적 삭제(Soft Delete)** 또는 '비활성(Inactive)' 상태로 변경 처리.
- **주요 데이터**: 상품명, 카테고리, 판매가, 원가, 상태(판매중/품절/단종).

## 3. 거래처 관리 (Partner Management)
**역할**: 협력사 및 고객사 정보 관리 (CRM/SRM)
- **메뉴 항목**:
  - **거래처 목록 (Partner List)**: 공급사, 고객사, 물류사 조회.
  - **거래처 등록/수정 (Partner Form)**: 연락처 및 유형 관리.
- **업무 로직**:
  - **유형 분류**: 모든 거래처는 `공급사(Supplier)`, `고객사(Customer)`, `물류사(Logistics)` 중 하나로 분류되어야 함.
  - **유효성 검사**: 이메일 및 전화번호 형식 검증.
  - **삭제**: 연결된 주문 내역이 있는 경우 삭제 불가 (Soft Delete 처리).
- **주요 데이터**: 거래처명, 유형, 담당자, 이메일, 전화번호, 주소, 상태.

## 4. 주문 관리 (Order Management)
**역할**: 핵심 영업 및 주문 처리
- **메뉴 항목**:
  - **주문 목록 (Order List)**: 전체 주문 이력 및 상태별 조회.
  - **주문 생성 (New Order)**: 신규 판매 주문 등록.
  - **주문 상세 (Order Detail)**: 주문 품목 및 결제/배송 정보 조회.
- **업무 로직**:
  - **주문 생성**:
    - 고객 선택 (Partner Service 연동).
    - 상품 추가 (Product Service 연동).
    - **재고 확인**: 주문 확정 전 `Inventory Service`를 통해 가용 재고 확인.
    - **트랜잭션**: 주문 확정 시 해당 수량만큼 재고 차감 (또는 예약).
  - **주문 취소**:
    - 배송 완료(Completed) 전 단계에서만 취소 가능.
    - **재고 복구**: 취소된 수량만큼 재고를 다시 증가시킴.
    - 상태를 `Cancelled`로 변경.
  - **상태 흐름**: `대기(Pending)` -> `처리중(Processing)` -> `배송중(Shipped)` -> `완료(Completed)` (또는 `취소(Cancelled)`).
- **주요 데이터**: 주문일자, 고객, 주문 품목(상품, 수량, 단가), 총액, 상태, 배송지.

## 5. 재고 관리 (Inventory Management)
**역할**: 수량 추적 및 조정
- **메뉴 항목**:
  - **재고 현황 (Inventory Status)**: 상품별 실시간 재고 수량 조회.
  - **재고 이력 (Inventory History)**: 모든 입/출고 내역 로그.
  - **재고 조정 (Stock Adjustment)**: 수동 재고 보정.
- **업무 로직**:
  - **자동 수량 변경**: 주문 발생(출고) 또는 발주 입고(입고 - *추후 구현*) 시 자동 처리.
  - **수동 조정**:
    - **입고(Inbound)**: 구매, 반품 등으로 인한 수량 증가.
    - **출고(Outbound)**: 파손, 망실 등으로 인한 수량 감소.
    - **보정(Correction)**: 실사 결과에 맞춰 수량 강제 조정.
  - **재고 부족 알림**: `현재 재고 <= 최소 재고(Min Stock)` 일 경우 경고 표시.
- **주요 데이터**: 상품 ID, 수량, 변동 유형(입/출/보정), 사유, 참조 ID(주문번호 등), 타임스탬프.
